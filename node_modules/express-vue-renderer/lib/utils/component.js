'use strict';

var Models = require('../models');
var Parser = require('../parser');
var PathUtils = require('./checkPathUtils');

var types = new Models.Types();

function setupComponent(componentPath, defaults, Cache) {
    return new Promise(function (resolve, reject) {
        var vueFile = componentPath.includes('.vue') ? componentPath : componentPath + '.vue';
        PathUtils.getCorrectPathForFile(vueFile, 'view', defaults, Cache).then(function (path) {
            Parser.componentParser(path.path, defaults, types.COMPONENT, Cache).then(function (component) {
                resolve(component);
            }).catch(function (error) {
                reject(error);
            });
        }).catch(function (error) {
            reject(error);
        });
    });
}

module.exports = setupComponent;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9jb21wb25lbnQuanMiXSwibmFtZXMiOlsiTW9kZWxzIiwicmVxdWlyZSIsIlBhcnNlciIsIlBhdGhVdGlscyIsInR5cGVzIiwiVHlwZXMiLCJzZXR1cENvbXBvbmVudCIsImNvbXBvbmVudFBhdGgiLCJkZWZhdWx0cyIsIkNhY2hlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ2dWVGaWxlIiwiaW5jbHVkZXMiLCJnZXRDb3JyZWN0UGF0aEZvckZpbGUiLCJ0aGVuIiwiY29tcG9uZW50UGFyc2VyIiwicGF0aCIsIkNPTVBPTkVOVCIsImNvbXBvbmVudCIsImNhdGNoIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUNBLElBQU1BLFNBQVNDLFFBQVEsV0FBUixDQUFmO0FBQ0EsSUFBTUMsU0FBU0QsUUFBUSxXQUFSLENBQWY7QUFDQSxJQUFNRSxZQUFZRixRQUFRLGtCQUFSLENBQWxCOztBQUVBLElBQUlHLFFBQVEsSUFBSUosT0FBT0ssS0FBWCxFQUFaOztBQUVBLFNBQVNDLGNBQVQsQ0FBd0JDLGFBQXhCLEVBQStDQyxRQUEvQyxFQUEwRUMsS0FBMUUsRUFBeUY7QUFDckYsV0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQ3BDLFlBQU1DLFVBQVVOLGNBQWNPLFFBQWQsQ0FBdUIsTUFBdkIsSUFBaUNQLGFBQWpDLEdBQWlEQSxnQkFBZ0IsTUFBakY7QUFDQUosa0JBQVVZLHFCQUFWLENBQWdDRixPQUFoQyxFQUF5QyxNQUF6QyxFQUFpREwsUUFBakQsRUFBMkRDLEtBQTNELEVBQ0tPLElBREwsQ0FDVSxnQkFBUTtBQUNWZCxtQkFBT2UsZUFBUCxDQUF1QkMsS0FBS0EsSUFBNUIsRUFBa0NWLFFBQWxDLEVBQTRDSixNQUFNZSxTQUFsRCxFQUE2RFYsS0FBN0QsRUFDS08sSUFETCxDQUNVLHFCQUFhO0FBQ2ZMLHdCQUFRUyxTQUFSO0FBQ0gsYUFITCxFQUlLQyxLQUpMLENBSVcsaUJBQVM7QUFDWlQsdUJBQU9VLEtBQVA7QUFDSCxhQU5MO0FBT0gsU0FUTCxFQVVLRCxLQVZMLENBVVcsaUJBQVM7QUFDWlQsbUJBQU9VLEtBQVA7QUFDSCxTQVpMO0FBYUgsS0FmTSxDQUFQO0FBaUJIOztBQUVEQyxPQUFPQyxPQUFQLEdBQWlCbEIsY0FBakIiLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmNvbnN0IE1vZGVscyA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xuY29uc3QgUGFyc2VyID0gcmVxdWlyZSgnLi4vcGFyc2VyJyk7XG5jb25zdCBQYXRoVXRpbHMgPSByZXF1aXJlKCcuL2NoZWNrUGF0aFV0aWxzJyk7XG5cbmxldCB0eXBlcyA9IG5ldyBNb2RlbHMuVHlwZXMoKTtcblxuZnVuY3Rpb24gc2V0dXBDb21wb25lbnQoY29tcG9uZW50UGF0aDogc3RyaW5nLCBkZWZhdWx0czogTW9kZWxzLkRlZmF1bHRzLCBDYWNoZTogT2JqZWN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdnVlRmlsZSA9IGNvbXBvbmVudFBhdGguaW5jbHVkZXMoJy52dWUnKSA/IGNvbXBvbmVudFBhdGggOiBjb21wb25lbnRQYXRoICsgJy52dWUnO1xuICAgICAgICBQYXRoVXRpbHMuZ2V0Q29ycmVjdFBhdGhGb3JGaWxlKHZ1ZUZpbGUsICd2aWV3JywgZGVmYXVsdHMsIENhY2hlKVxuICAgICAgICAgICAgLnRoZW4ocGF0aCA9PiB7XG4gICAgICAgICAgICAgICAgUGFyc2VyLmNvbXBvbmVudFBhcnNlcihwYXRoLnBhdGgsIGRlZmF1bHRzLCB0eXBlcy5DT01QT05FTlQsIENhY2hlKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cENvbXBvbmVudDtcbiJdfQ==